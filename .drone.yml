kind: pipeline
type: docker
name: default

steps:
- name: clean
  image: mcr.microsoft.com/dotnet/core/sdk:3.0
  commands:
  - dotnet --version
  - dotnet clean Drone-POC/Core/Core.csproj

- name: build
  image: mcr.microsoft.com/dotnet/core/sdk:3.0
  commands:
  - dotnet build Drone-POC/Core/Core.csproj
  
trigger:
  branch:
  - develop
---
kind: pipeline
type: docker
name: web build

steps:
- name: clean
  image: mcr.microsoft.com/dotnet/core/sdk:3.0
  commands:
  - dotnet --version
  - dotnet clean Drone-POC/WebApplication2/WebApplication2.csproj

- name: build
  image: mcr.microsoft.com/dotnet/core/sdk:3.0
  commands:
  - dotnet build Drone-POC/WebApplication2/WebApplication2.csproj
  
- name: publish
  image: mcr.microsoft.com/dotnet/core/sdk:3.0
  commands:
  - dotnet publish --configuration Release Drone-POC/WebApplication2/WebApplication2.csproj
trigger:
  branch:
  - develop

